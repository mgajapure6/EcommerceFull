<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Title-->
    <title>Suha - Multipurpose Ecommerce Mobile Template</title>
    <!-- Favicon-->
    <link rel="icon" href="../../assets/img/core-img/favicon.ico">
    <!-- Stylesheet-->
    <link rel="stylesheet" href="../../assets/css/style.css">
</head>

<body>
    <!-- Preloader-->
    <div class="preloader" id="preloader">
        <div class="spinner-grow text-secondary" role="status">
            <div class="sr-only">Loading...</div>
        </div>
    </div>
    <!-- Header Area-->
    <div class="header-area" id="headerArea">
        <div class="container h-100 d-flex align-items-center justify-content-between">
            <!-- Back Button-->
            <div class="back-button"><a href="profile.html"><i class="lni-arrow-left"></i></a></div>
            <!-- Page Title-->
            <div class="page-heading">
                <h6 class="mb-0">Edit Profile</h6>
            </div>
            <!-- Navbar Toggler-->
            <div class="suha-navbar-toggler d-flex justify-content-between flex-wrap" id="suhaNavbarToggler"><span></span><span></span><span></span></div>
        </div>
    </div>
    <!-- Sidenav Black Overlay-->
    <div class="sidenav-black-overlay"></div>
    <!-- Side Nav Wrapper-->
    <div class="suha-sidenav-wrapper" id="sidenavWrapper">
        <!-- Sidenav Profile-->
        <div class="sidenav-profile">
            <div class="user-profile"><img src="../../assets/img/bg-img/9.jpg" alt=""></div>
            <div class="user-info">
                <h6 class="user-name mb-0"></h6>
            </div>
        </div>
        <!-- Sidenav Nav-->
        <ul class="sidenav-nav">
            <li><a href="../dashboard/dashboard.html"><i class="lni-home"></i>Dashboard</a></li>
            <li><a href="../profile/profile.html"><i class="lni-user"></i>My Profile</a></li>
            <li><a href="../notification/notifications.html"><i class="lni-alarm lni-tada-effect"></i>Notifications<span class="ml-3 badge badge-warning">3</span></a></li>
            <li><a href="../orders/my-order.html"><i class="lni-empty-file"></i>My Orders</a></li>
            <li><a href="../settings/settings.html"><i class="lni-cog"></i>Settings</a></li>
            <li><a href="#" onclick="signOut()"><i class="lni-power-switch"></i>Sign Out</a></li>
        </ul>
        <!-- Go Back Button-->
        <div class="go-home-btn" id="goHomeBtn"><i class="lni-arrow-left"></i></div>
    </div>
    <div class="page-content-wrapper">
        <div class="container">
            <!-- Profile Wrapper-->
            <div class="profile-wrapper-area py-3">
                <!-- User Information-->
                <div class="card user-info-card">
                    <div class="card-body p-4 d-flex align-items-center">
                        <div class="user-profile mr-3"><img id="profile-img" src="../../assets/img/bg-img/9.jpg" alt="">
                            <div class="change-user-thumb">
                                <form>
                                    <input class="form-control-file" type="file" id="profile-img-input">
                                    <button><i class="lni-pencil"></i></button>
                                </form>
                            </div>
                        </div>
                        <div class="user-info">
                            <h5 class="mb-0 current-user-full-name"></h5>
                            <p class="mb-0 text-white current-user-email"></p>
                        </div>
                    </div>
                </div>
                <!-- User Meta Data-->
                <div class="card user-data-card">
                    <div class="card-body">
                        <form id="profileForm">
                            <div class="form-group">
                                <div class="title mb-2"><i class="lni-user"></i><span>Username</span></div>
                                <input class="form-control" type="text" id="username" placeholder="Enter username" required data-parsley-minlength="3">
                            </div>
                            <div class="form-group">
                                <div class="title mb-2"><i class="lni-user"></i><span>Full Name</span></div>
                                <input class="form-control" type="text" id="full-name" placeholder="Enter full name" required data-parsley-minlength="4">
                            </div>
                            <div class="form-group">
                                <div class="title mb-2"><i class="lni-phone-handset"></i><span>Phone</span></div>
                                <input class="form-control" type="text" id="mobile" placeholder="Enter mobile number" required data-parsley-type="digits" data-parsley-minlength="10" data-parsley-maxlength="10">
                            </div>
                            <div class="form-group">
                                <div class="title mb-2"><i class="lni-envelope"></i><span>Email Address</span></div>
                                <input class="form-control" type="email" id="email" placeholder="Enter email" required>
                            </div>
                            <div class="form-group">
                                <div class="title mb-2"><i class="lni-map-marker"></i><span>Shipping Address</span></div>
                                <textarea class="form-control" rows="4" id="address" placeholder="Enter shipping address" required data-parsley-minlength="10"></textarea>
                            </div>
                            <div class="alert-msg mt-3 mb-3">
                            </div>
                            <button class="btn btn-success w-100 update-seller-btn" type="button">Save All Changes</button>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer Nav-->
    <div class="footer-nav-area" id="footerNav">
        <div class="container h-100 px-0">
            <div class="suha-footer-nav h-100">
                <ul class="h-100 d-flex align-items-center justify-content-between">
                    <li><a href="../dashboard/dashboard.html"><i class="lni-home"></i>Dashboard</a></li>
                    <li><a href="../product/shop-grid.html"><i class="lni-layers"></i>Products</a></li>
                    <li><a href="../orders/my-order.html"><i class="lni-cart"></i>Orders</a></li>
                    <li><a href="../settings/settings.html"><i class="lni-cog"></i>Settings</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- All JavaScript Files-->
    <script src="../../assets/js/jquery.min.js"></script>
    <script src="../../assets/js/popper.min.js"></script>
    <script src="../../assets/js/bootstrap.min.js"></script>
    <script src="../../assets/js/waypoints.min.js"></script>
    <script src="../../assets/js/jquery.easing.min.js"></script>
    <script src="../../assets/js/owl.carousel.min.js"></script>
    <script src="../../assets/js/jquery.animatedheadline.min.js"></script>
    <script src="../../assets/js/jquery.counterup.min.js"></script>
    <script src="../../assets/js/wow.min.js"></script>
    <script src="../../assets/js/jarallax.min.js"></script>
    <script src="../../assets/js/jarallax-video.min.js"></script>
    <script src="../../assets/js/default/jquery.passwordstrength.js"></script>
    <script src="../../assets/js/default/dark-mode-switch.js"></script>
    <script src="../../assets/js/default/active.js"></script>
    <script src="../../assets/js/parsley.min.js"></script>

    <!-- Import and configure the Firebase SDK -->
    <!-- These scripts are made available when the app is served or deployed on Firebase Hosting -->
    <!-- If you do not want to serve/host your project using Firebase Hosting see https://firebase.google.com/docs/web/setup -->
    <script src="https://www.gstatic.com/firebasejs/7.14.6/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.6/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.6/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.6/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.6/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.6/firebase-performance.js"></script>
    <script src="../../assets/firebase/init.js"></script>
    <script src="../../assets/firebase/app.db.js"></script>

    <script src="profile.db.js"></script>
    <script>
        setSeller();
        $('#profileForm').parsley();
        $('.update-seller-btn').click(function() {
            $('#profileForm').parsley().validate();
            if ($('#profileForm').parsley().isValid()) {
                updateSeller($(this));
            }
        });

        document.getElementById('profile-img-input').onchange = function(evt) {
            var tgt = evt.target || window.event.srcElement,
                files = tgt.files;

            // FileReader support
            if (FileReader && files && files.length) {
                if (validateSize(files[0])) {
                    var fr = new FileReader();
                    fr.onload = function() {
                        document.getElementById('profile-img').src = fr.result;
                        console.log('file', files[0])
                        document.getElementById('profile-img').setAttribute("file-type", (files[0].type).substring((files[0].type).indexOf('/') + 1, (files[0].type).length));
                    }
                    fr.readAsDataURL(files[0]);
                }
            } else {
                // fallback -- perhaps submit the input to an iframe and temporarily store
                // them on the server until the user's session ends.
            }
        }

        function validateSize(file) {
            var isValidSize = false;
            var FileSize = file.size / 1024; // in KB
            if (FileSize > 100) {
                alert('File size exceeds 100 KB');
                return false;
            } else {
                return true;
            }
        }
    </script>
</body>

</html>